{% extends 'core/base.html' %}

{% load static %}

{% block title %}Contacto{% endblock %}

{% block content %}
<section class="page-section about-heading">
  <div class="container">
    <img class="img-fluid rounded about-heading-img mb-3 mb-lg-0" src="{% static 'core/img/contact.jpg' %}" alt="">
    <div class="about-heading-content">
      <div class="row">
        <div class="col-xl-9 col-lg-10 mx-auto">
          <div class="bg-faded rounded p-5">
            <h2 class="section-heading mb-4">
              <span class="section-heading-upper">Envíanos tus dudas</span>
              <span class="section-heading-lower">Contacto</span>
            </h2>
            <!-- Formulario de contacto -->
            {%if 'ok' in request.GET%} <!--Detecto con un if si la clave ok que le paso se encuentra definida en el diccionario request.GET-->
                <p><b>Su mensaje se ha enviado correctamente perro, en breve nos pondremos en contacto con usted</b></p>
            {%endif%} 
           {% comment %}  <form action="" method="POST">
                {% csrf_token %}
                <table>
                  {{form.as_table}} <!--.as_p que muestre el formulario como paragrafo, as_ul lo muestre como lista-->
                </table>
                <input type="Submit" value="Enviar"/>
            </form> {% endcomment %}
             
            <!--{{request.POST}}--><!--Diccionario donde se guardan los datos post que envían desde un formulario-->
             <form action="" method="POST">
                {% csrf_token %}
                <div class="form-group">
                    <label>Nombre *</label>
                    <div class="input-group">
                        <!--<input type="text" class="form-control"> No voy a usar los input por que voy a usar lo que django genera automaticamente dentro del form  -->
                        {{form.name}}
                        {{form.name.errors}}<!--Gestiona los errores-->
                    </div>
                </div>
                <div class="form-group">
                    <label>Email *</label>
                    <div class="input-group">
                       {{form.email}}
                        {{form.email.errors}}
                    </div>
                    {% comment %} <ul class="errorlist">
                        <li>El email no es correcto.</li>
                    </ul> {% endcomment %}
                </div>
                <div class="form-group">
                    <label>Mensaje *</label>
                    <div class="input-group">
                       {{form.content}}
                        {{form.content.errors}}
                    </div>
                </div>
                <div class="text-center">
                    <input type="submit" class="btn btn-primary btn-block py-2" value="Enviar">
                </div>
            </form> 
            <!-- Fin formulario de contacto -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
